{{Infobox
| software               = ImageJ/Fiji
| name                   = Non Local Means Denoise
| maintainer             = {{Person|Twagner}}
| author                 = Pascal  Behnel, {{Person|Twagner}}
| filename               = ij_nl_means.jar [https://github.com/thorstenwagner/ij-nl-means/releases/latest [1]]
| source                 = GitHub [https://github.com/jumpfunky/ij-nl-means [2]]
| latest version         = v1.4.6 (13 March 2016)
| status                 = maintaining
| category               = [[:Category:Plugins]]
}}
= Purpose =
This is an ImageJ plugin for denosing images via the non-local-means algorithm descriped in

''Antoni Buades, Bartomeu Coll, and Jean-Michel Morel, Non-Local Means Denoising, Image Processing On Line, vol. 2011.'' 

including the changes proposed by 

''Darbon, J. et al., 2008. Fast nonlocal filtering applied to electron cryomicroscopy. In 2008 5th IEEE International Symposium on Biomedical Imaging: From Nano to Macro, Proceedings, ISBI. IEEE, pp. 1331–1334.''

It is numerically optimized and multithreaded. It works with all image types (RGB, 32 Bit, 16 Bit, 8 Bit).

This plugin was developed within the scope of a study work of Pascal Behnel and is maintained by Thorsten Wagner (Both are members of the Biomedical Imaging Group).

=Settings=
'''Sigma:''' The sigma of the noise. 

'''Smoothing factor:''' In most cases, the default value (1) should not be changed. However, sometimes a more smoothed image is desired which can be achieved by selecting values > 1.

'''Auto estimate sigma:''' If this option is selected, the sigma is automatically estimated by the method descriped in ''Immerkaer, J., 1996. Fast noise variance estimation. Computer Vision and Image Understanding.'' 

Both, the value for the (estimated) sigma and the smoothing factor are saved in the imagej preferences and are accessible with the keys "nlmean.sigma" / "nlmeans.smoothingfactor". 

=Example=
The left image shows a noisy (sigma=25) image of lena and right image the denoised version using the non local means plugin:
[[File:Lena-noise-25.png|250px]] [[File:Lena-denoised.png|250px]]

=Installation=

You could simply use our update site "[http://fiji.sc/List_of_update_sites biomedgroup]" to install the non local means plugin or copy the jar file into your plugins folder.

=How to cite=
We think the best way is to cite the formal method and the used implementation:

'''Method:'''

''Antoni Buades, Bartomeu Coll, and Jean-Michel Morel, Non-Local Means Denoising, Image Processing On Line, vol. 2011.'' 

and

''Darbon, J. et al., 2008. Fast nonlocal filtering applied to electron cryomicroscopy. In 2008 5th IEEE International Symposium on Biomedical Imaging: From Nano to Macro, Proceedings, ISBI. IEEE, pp. 1331–1334.''

'''Implementation:'''

[[File:Zenodo.35114.svg|174px|link=https://zenodo.org/badge/latestdoi/18649/thorstenwagner/ij-nl-means]]
